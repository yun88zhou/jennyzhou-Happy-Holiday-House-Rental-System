<div class="container d-flex justify-content-end mt-5" style="font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;">
    <h1>Add New Movie Schedule</h1>
</div>
<div class="container mt-5">
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="personal-card text-left">
            <!-- Use Jinja -->
      <div class="modal-body mt-2">
        <form action="{{ url_for('movie_schedule.schedule_add') }}" method="POST">
          <div class="mb-3">
            <label for="newMovieid" class="form-label" style="color:grey">Movie Title:</label> 
            <select name="newMovieid" id="newMovieid" class="form-select mb-2" required>
                
              <option value="" disabled selected hidden>Please Choose...</option>
              {% for m in movies %}
              <option value="{{ m['movieid'] }}">{{ m['title'] }}</option>
              {% endfor %}
            </select>
            <br>

            <!-- <label for="newCinemaid" class="form-label" style="color:grey">Cinema:</label>
              <select name="newCinemaid" id="newCinemaid" class="form-select mb-2" required>
                <option value="" disabled selected hidden>Please Choose...</option>
                {% for c in cinemas %}
                <option value="{{ c['cinemaid'] }}">{{ c['name'] }}</option>
                {% endfor %}
              </select> -->

            <div class="mb-3">
                <label for="newsessiondate" class="form-label" style="color:grey">Session Date:</label><p> </p>
                <input type="date" class="form-control" id="newsessiondate" name="newsessiondate" min="" max="{{ last_date[0]['last_date'].strftime('%Y-%m-%d') }}" required>
                    <script>
                      // get current date
                      var today = new Date();
                      
                      // format is "YYYY-MM-DD"
                      var formattedDate = today.toISOString().split('T')[0];
              
                      // date at least is today
                      document.getElementById("newsessiondate").min = formattedDate;
                    </script>
                    <br>
            </div>
                     <label for="newsessiontimeid" class="form-label" style="color:grey">Session Time:</label>
                     <select name="newsessiontimeid" id="newsessiontimeid" class="form-select mb-2" required>
                       <option value="" disabled selected hidden>Please Choose...</option>
                       {% for st in sessiontimes %}
                       <option value="{{ st['sessiontime_id'] }}">{{ st['sessiontime'] }} in Cinema{{ st['cinemaid']}}</option>
                       {% endfor %}
                     </select>
                     <br />
                </div>
             </div>
      <div class="modal-footer">
        <a role="button" class="btn btn-success mx-2" href="{{ url_for('movie_schedule.all_schedules') }}">Back</a>
        <button type="button" class="btn btn-secondary mx-2" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-dark">Save Changes</button>
      </div>
    </form>
    </div>
  </div>
</div>
</div>

</body>
</html>